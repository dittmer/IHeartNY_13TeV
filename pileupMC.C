#include "TROOT.h"
#include "TCanvas.h"
#include "TH1.h"
#include "TFile.h"

#include <iostream>
#include <string>
#include <vector>

using namespace std;


void pileupMC() {


  int npv[50] = {0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49};
  float value[50] = {	    0.000108643,
			    0.000388957,
			    0.000332882,
			    0.00038397,
			    0.000549167,
			    0.00105412,
			    0.00459007,
			    0.0210314,
			    0.0573688,
			    0.103986,
			    0.142369,
			    0.157729,
			    0.147685,
			    0.121027,
			    0.08855,
			    0.0582866,
			    0.0348526,
			    0.019457,
			    0.0107907,
			    0.00654313,
			    0.00463195,
			    0.00370927,
			    0.0031137,
			    0.00261141,
			    0.00215499,
			    0.00174491,
			    0.00138268,
			    0.00106731,
			    0.000798828,
			    0.00057785,
			    0.00040336,
			    0.00027161,
			    0.000176535,
			    0.00011092,
			    6.75502e-05,
			    4.00323e-05,
			    2.32123e-05,
			    1.32585e-05,
			    7.51611e-06,
			    4.25902e-06,
			    2.42513e-06,
			    1.39077e-06,
			    8.02452e-07,
			    4.64159e-07,
			    2.67845e-07,
			    1.5344e-07,
			    8.68966e-08,
			    4.84931e-08,
			    2.6606e-08,
			    1.433e-08};

  
  TH1D* hist = new TH1D("h_NtrueIntPU","",50,0,50);

  for (int i=0; i<50; i++) {
    hist->SetBinContent(i+1, value[i]);
  }

  TCanvas c;
  hist->Draw();
  c.SaveAs("pileupMC.png");

  TFile* f = new TFile("pu.root","recreate");
  hist->Write();
  f->Close();

}
